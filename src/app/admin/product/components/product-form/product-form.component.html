<div>
    <div style="padding: 10px; margin: 5px">
        <div *ngIf="!productId && !deleting && !updating && !viewInfo && adding">Add new product</div>
        <div *ngIf="productId && !deleting && !updating && viewInfo && !adding">View product info</div>
        <div *ngIf="productId && !deleting && updating && !viewInfo && !adding">Edit product</div>
        <div *ngIf="productId && deleting && !updating && !viewInfo && !adding">Delete product</div>
        <br/>
        <form (ngSubmit)="modifyProduct()" [formGroup]="productForm">
            <div flexLayout="row" flexLayout.xs="column" flexLayoutAlign="start start"
                 flexLayoutAlign.xs="center center">
                <div fxFlex="50">
                    <mat-input-container class="field-90">
                        <input matInput type="text" placeholder="ProductName" formControlName="name" role="name"
                               (ngModelChange)="fieldChanged()" tabindex="1"/>
                    </mat-input-container>
                </div>
                <div fxFlex="50" dir="rtl">
                    <mat-input-container class="field-90">
                        <input matInput type="text" placeholder="نام" formControlName="name_fa" role="name_fa"
                               (ngModelChange)="fieldChanged()" tabindex="3"/>
                    </mat-input-container>
                </div>
            </div>
            <div>
                <mat-input-container class="field">
                    <textarea matInput placeholder="Description" formControlName="description" role="description"
                              (ngModelChange)="fieldChanged()" tabindex="2"></textarea>
                </mat-input-container>
            </div>
            <div dir="rtl">
                <mat-input-container class="field">
                    <textarea matInput placeholder="توضیحات" formControlName="description_fa" role="description_fa"
                              (ngModelChange)="fieldChanged()" tabindex="4"></textarea>
                </mat-input-container>
            </div>
            <div>
                <button mat-raised-button color="primary" type="submit"
                        *ngIf="!productId && !deleting && !updating && !viewInfo && adding"
                        [disabled]="!productForm.valid">Add
                </button>

                <button mat-raised-button color="primary" type="submit"
                        *ngIf="productId && !deleting && updating && !viewInfo && !adding"
                        [disabled]="upsertBtnShouldDisabled || (!productForm.valid || (productId && !anyChanges))">
                    Update
                </button>

                <button mat-raised-button color="primary" type="submit"
                        *ngIf="productId && !deleting && !updating && viewInfo && !adding"
                        [disabled]="upsertBtnShouldDisabled || (!productForm.valid || (productId && !anyChanges))">Ok
                </button>

                <button mat-raised-button color="primary" type="button"
                        *ngIf="deleting && !updating && !viewInfo && !adding" (click)="deleteProduct()" tabindex="6">
                    Delete
                </button>
            </div>
        </form>
    </div>
</div>